<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Pagamento ‚Ä¢ 60 Echo Beads</title>
<link rel="icon" type="image/png" href="img/favicon.png">
<script src="https://cdn.tailwindcss.com"></script>

<!-- Mercado Pago SDK -->
<script src="https://sdk.mercadopago.com/js/v2"></script>

<style>
html, body {
  min-height: 100vh;
}

body {
  background: #000;
  font-family: sans-serif;
}

.glass-card {
  background: rgba(255,255,255,0.15);
  backdrop-filter: blur(10px);
  border-radius: 20px;
  border: 1px solid rgba(255,255,255,0.2);
  box-shadow: 0 8px 32px rgba(0,0,0,0.25);
  padding: 24px;
  color: white;
}

.glow-float {
  animation: floatGlow 3s ease-in-out infinite;
  text-shadow: 0 0 6px rgba(255,255,255,0.3);
}

.valor-glow {
  font-size: 1.6rem;
  font-weight: bold;
  color: #FFD700;
  text-shadow: 0 0 8px #FFD700, 0 0 14px #FFD700;
}

@keyframes floatGlow {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-3px); }
  100% { transform: translateY(0px); }
}

.btn-comprar {
  background: #FFD700;
  color: #000;
  font-weight: bold;
  padding: 14px;
  border-radius: 14px;
  width: 100%;
  transition: transform 0.2s, box-shadow 0.2s;
}

.btn-comprar:hover {
  transform: scale(1.03);
  box-shadow: 0 0 16px rgba(255,215,0,0.6);
}

/* Home discreto */
.home-link {
  position: fixed;
  top: 16px;
  left: 16px;
  font-size: 14px;
  color: rgba(255,255,255,0.5);
  text-decoration: none;
  transition: color 0.2s;
  z-index: 50;
}

.home-link:hover {
  color: #fff;
}

/* Ajustes leves no overlay MP */
.mercadopago-overlay {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

.mercadopago-checkout {
  max-width: 420px !important;
}

/* Blindagem tempor√°ria para o Mercado Pago */
.mp-lock * {
  transition: none !important;
  animation: none !important;
}

</style>
</head>

<body>

<a href="https://saintsgs-hub.github.io/index.html" class="home-link">‚Üê Home</a>

<div class="min-h-screen flex items-center justify-center p-6">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl w-full">

    <!-- CARD PRODUTO -->
    <div class="glass-card text-center glow-float">
      <h1 class="text-2xl font-bold mb-2">ü¶™ 60 Echo Beads ü¶™</h1>

      <p class="text-gray-300 mb-4">
        Este pacote adiciona <strong>60 Echo Beads</strong> diretamente na sua conta.
      </p>

      <img src="img/echo60.png" class="mx-auto w-32 mb-4">

      <span class="valor-glow">R$ 10,40</span>

      <p class="text-xs text-gray-400 mt-4">
        ‚Ä¢ Entrega manual ap√≥s confirma√ß√£o<br>
        ‚Ä¢ Pagamento 100% seguro
      </p>
    </div>

    <!-- CARD PAGAMENTO -->
    <div class="glass-card glow-float flex flex-col">
      <h2 class="text-xl font-bold text-center mb-6">Escolher M√©todo</h2>

      <!-- BLOCO CENTRAL -->
      <div class="flex flex-col items-center justify-center flex-1">
        <button id="pagar" class="btn-comprar max-w-sm">
          PAGAR COM MERCADO PAGO
        </button>

        <p class="text-xs text-gray-400 mt-3 text-center">
          ‚Ä¢ PIX ‚Ä¢ Cart√£o ‚Ä¢ Saldo MP ‚Ä¢ E muito mais
        </p>
      </div>
    </div>

  </div>
</div>

<script>
const mp = new MercadoPago(
  "APP_USR-8f621d31-733d-4d3b-a22f-25b69490990e",
  { locale: "pt-BR" }
);

document.getElementById("pagar").addEventListener("click", async () => {
  const produto = "60 Echo Beads";
  const valor = 10.40;

  localStorage.setItem("produto", produto);

  const response = await fetch(
    "https://saint-echo-backend.neuroniosgames.workers.dev/create-payment",
    {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ produto, valor })
    }
  );

  const data = await response.json();

  if (!data.id) {
    alert("Erro ao criar pagamento.");
    return;
  }

  mp.checkout({
    preference: { id: data.id },
    autoOpen: true
  });
});
</script>

<script>
  window.addEventListener("load", () => {
    const s = document.createElement("script");
    s.src = "js/effects.js";
    s.defer = true;
    document.body.appendChild(s);
  });
</script>

</body>
</html>
